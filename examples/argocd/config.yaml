title: argocd
description: ArgoCD MCP Server
author: Sri Aradhyula
email: sraradhy@cisco.com
version: 0.1.0
license: Apache-2.0
python_version: 3.13.2

# HTTP headers for API requests
headers:
  Authorization: Bearer {token}
  Accept: application/json
  Content-Type: application/json

# Python dependencies
poetry_dependencies: |
  python = ">=3.13,<4.0"
  httpx = ">=0.24.0"
  python-dotenv = ">=1.0.0"
  pydantic = ">=2.0.0"
  mcp = ">=1.9.0"

# File headers for generated code
file_headers:
  copyright: Copyright 2025 CNOE
  license: "SPDX-License-Identifier: Apache-2.0"
  message: "Generated by CNOE OpenAPI MCP Codegen tool"

# Overlay enhancement configuration
overlay_enhancements:
  # Enable agent-friendly description generation
  enabled: true

  # Use LLM for enhanced descriptions (requires OPENAI_API_KEY or ANTHROPIC_API_KEY)
  # LLM provides context-aware, natural language enhancements vs rule-based generation
  use_llm: true

  # LLM provider (openai or anthropic) - uses environment variables for API keys
  # If not specified, will use cnoe_agent_utils default
  llm_provider: null

  # Maximum description length (OpenAI recommends 250-300 chars for function calling)
  max_description_length: 300

  # Enhance CRUD operations with agentic context (LLM will understand CRUD patterns)
  enhance_crud_operations: true

  # Add use cases to operation descriptions (when/why to use)
  add_use_cases: true

  # Enhance parameter descriptions with LLM understanding
  enhance_parameters: true

  # Add parameter guidance (required vs optional, filtering, pagination)
  add_parameter_guidance: true

  # Focus on agentic use cases (helps LLMs understand when to call each operation)
  agentic_focus: true

# AgentGateway configuration
agentgateway:
  # Port to run agentgateway on
  port: 3000

  # Backend API configuration
  backend:
    host: localhost
    port: 8080
    path: /

  # CORS configuration
  cors:
    enabled: true
    allow_origins:
      - "*"
    allow_methods:
      - GET
      - POST
      - OPTIONS
    allow_headers:
      - "*"
    expose_headers:
      - mcp-protocol-version
      - Content-Type
      - cache-control
    max_age: 3600

# Agent Skills Configuration
# Define skills based on available MCP tools
skills:
  - id: "application_management"
    name: "Application Management"
    description: "Core application operations for creating, managing, and monitoring ArgoCD applications"
    tags: ["applications", "deployment", "lifecycle", "management"]
    examples:
      - "List all applications in ArgoCD"
      - "Get the status and details of application 'my-app'"
      - "Create a new application from a Git repository"
      - "Delete application 'old-app' from the cluster"
      - "Sync application 'my-service' to the latest Git commit"
      - "Hard refresh application 'data-api' to force sync"
      - "Rollback application 'web-frontend' to previous version"
      - "Terminate application operation for 'stuck-deployment'"
      - "Get application sync status and health details"
      - "Set application parameters and override values"

  - id: "repository_management"
    name: "Repository Management"
    description: "Manage Git repositories and Helm chart repositories in ArgoCD"
    tags: ["repositories", "git", "helm", "sources"]
    examples:
      - "List all configured repositories in ArgoCD"
      - "Add a new Git repository to ArgoCD"
      - "Get details of repository 'https://github.com/my-org/manifests'"
      - "Update repository credentials for private repos"
      - "Delete unused repository 'legacy-charts'"
      - "Test repository connection and access"
      - "Validate repository certificates and SSH keys"
      - "List applications using specific repository"

  - id: "cluster_management"
    name: "Cluster Management"
    description: "Manage destination Kubernetes clusters for application deployments"
    tags: ["clusters", "destinations", "kubernetes", "connectivity"]
    examples:
      - "List all managed clusters in ArgoCD"
      - "Add a new destination cluster for deployments"
      - "Get cluster connection status and server info"
      - "Update cluster credentials and certificates"
      - "Remove cluster 'staging-k8s' from ArgoCD"
      - "Test cluster connectivity and permissions"
      - "Get cluster namespaces and available resources"
      - "Check cluster RBAC permissions for ArgoCD"

  - id: "project_management"
    name: "Project Management"
    description: "Manage ArgoCD projects for organizing applications with RBAC and policies"
    tags: ["projects", "rbac", "policies", "organization"]
    examples:
      - "List all projects in ArgoCD"
      - "Create a new project 'platform-services'"
      - "Get project details and assigned resources"
      - "Update project policies and RBAC rules"
      - "Delete unused project 'legacy-apps'"
      - "Add allowed Git repositories to project"
      - "Set project destination clusters and namespaces"
      - "Configure project sync windows and restrictions"

  - id: "certificate_management"
    name: "Certificate Management"
    description: "Manage TLS certificates for repository and cluster connections"
    tags: ["certificates", "tls", "security", "connections"]
    examples:
      - "List all TLS certificates in ArgoCD"
      - "Add a new certificate for private Git repository"
      - "Get certificate details and expiration status"
      - "Update certificate for 'gitlab.company.com'"
      - "Delete expired certificate for old repository"
      - "Validate certificate chain and trust"
      - "Import certificate bundle for enterprise Git servers"

  - id: "account_management"
    name: "Account Management"
    description: "Manage user accounts, authentication, and authorization in ArgoCD"
    tags: ["accounts", "users", "authentication", "authorization", "rbac"]
    examples:
      - "List all user accounts in ArgoCD"
      - "Create a new user account 'developer'"
      - "Get user account details and permissions"
      - "Update user password and authentication settings"
      - "Delete inactive user account 'former-employee'"
      - "Check user permissions for specific resources"
      - "Generate authentication tokens for service accounts"
      - "Verify user can access projects and applications"

  - id: "monitoring_observability"
    name: "Monitoring & Observability"
    description: "Access logs, events, and monitoring data for applications and ArgoCD system"
    tags: ["logs", "events", "monitoring", "debugging", "observability"]
    examples:
      - "Get application deployment history and events"
      - "View sync operation logs for application 'api-service'"
      - "Monitor application health and resource status"
      - "Get ArgoCD server logs for troubleshooting"
      - "Track application sync failures and errors"
      - "View resource events for deployed applications"
      - "Monitor Git repository polling and fetch operations"
      - "Get cluster connection and authentication logs"

  - id: "system_information"
    name: "System Information"
    description: "Access ArgoCD server information, version details, and system status"
    tags: ["system", "info", "version", "status", "health"]
    examples:
      - "Get ArgoCD server version and build information"
      - "Check ArgoCD system health and component status"
      - "Get server configuration and feature flags"
      - "View ArgoCD resource usage and performance metrics"
      - "Get API server capabilities and supported features"
      - "Check ArgoCD database connection and status"
      - "View system settings and global configurations"

# Agent System Prompt Configuration
system_prompt: |
  You are an expert ArgoCD assistant that helps users manage, deploy, and monitor applications using GitOps practices in Kubernetes.

  # CORE CAPABILITIES
  You can help with:
  - üöÄ **Application Management**: Create, deploy, sync, and manage applications across clusters
  - üì¶ **Repository Management**: Configure Git repositories and Helm chart sources
  - üèóÔ∏è **Cluster Management**: Manage destination Kubernetes clusters for deployments
  - üë• **Project Management**: Organize applications with RBAC policies and governance
  - üîê **Security & Access**: Manage certificates, user accounts, and authentication
  - üìä **Monitoring**: View application health, sync status, and deployment history
  - üîç **Troubleshooting**: Debug sync failures, investigate issues, and track changes

  # INTERACTION GUIDELINES
  üéØ **Be Specific**: When asking for application operations, provide:
  - Application names and projects
  - Target namespaces and clusters
  - Git repository URLs and paths
  - Specific sync or deployment parameters

  üí° **Example Requests**:
  - "List all applications in project 'platform-services'"
  - "Sync application 'web-frontend' to the latest commit"
  - "Create a new application from repository 'https://github.com/my-org/k8s-manifests'"
  - "Check the health status of application 'api-gateway'"
  - "Add a new Git repository to ArgoCD with private key authentication"
  - "Get sync history for application 'database' in the last week"

  # APPLICATION CREATION TIPS
  When creating applications, I'll guide you through:
  - Application specification (source, destination, project)
  - Git repository configuration and credentials
  - Sync policies and automation settings
  - Health checks and sync strategies
  - Parameter overrides and values files

  # COMMON PATTERNS
  - For **new applications**: I'll ask for Git source, destination cluster, and project assignment
  - For **monitoring**: I'll help check sync status, health, and deployment progress
  - For **troubleshooting**: I'll examine sync errors, resource events, and configuration issues
  - For **repository management**: I'll help configure credentials, certificates, and access

  # GITOPS BEST PRACTICES
  I'll help you follow GitOps principles:
  - Declarative application definitions stored in Git
  - Automated synchronization between Git and clusters
  - Centralized application lifecycle management
  - RBAC and policy enforcement through projects
  - Audit trails and change tracking

  Ask me anything about ArgoCD - I'm here to help you implement GitOps and manage your Kubernetes applications!
