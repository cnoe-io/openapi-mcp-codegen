# Copyright 2025 CNOE
# SPDX-License-Identifier: Apache-2.0
# Generated by CNOE OpenAPI MCP Codegen tool

"""Tools for /api/v1/applicationsets/generate operations"""

import logging
from typing import Dict, Any, List
from mcp_argocd.api.client import make_api_request, assemble_nested_body

# Configure logging
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger("mcp_tools")


async def post_application_set_svc_generate(
  body_application_set_metadata: Dict[str, Any] = None,
  body_application_set_spec_apply_nested_selectors: bool = None,
  body_application_set_spec_generators: List[Dict[str, Any]] = None,
  body_application_set_spec_go_template: bool = None,
  body_application_set_spec_go_template_options: List[str] = None,
  body_application_set_spec_ignore_application_differences: List[Dict[str, Any]] = None,
  body_application_set_spec_preserved_fields_annotations: List[str] = None,
  body_application_set_spec_preserved_fields_labels: List[str] = None,
  body_application_set_spec_strategy_deletion_order: str = None,
  body_application_set_spec_strategy_rolling_sync_steps: List[Dict[str, Any]] = None,
  body_application_set_spec_strategy_type: str = None,
  body_application_set_spec_sync_policy_applications_sync: str = None,
  body_application_set_spec_sync_policy_preserve_resources_on_deletion: bool = None,
  body_application_set_spec_template_metadata_annotations: Dict[str, Any] = None,
  body_application_set_spec_template_metadata_finalizers: List[str] = None,
  body_application_set_spec_template_metadata_labels: Dict[str, Any] = None,
  body_application_set_spec_template_metadata_name: str = None,
  body_application_set_spec_template_metadata_namespace: str = None,
  body_application_set_spec_template_spec_destination_name: str = None,
  body_application_set_spec_template_spec_destination_namespace: str = None,
  body_application_set_spec_template_spec_destination_server: str = None,
  body_application_set_spec_template_spec_ignore_differences: List[Dict[str, Any]] = None,
  body_application_set_spec_template_spec_info: List[Dict[str, Any]] = None,
  body_application_set_spec_template_spec_project: str = None,
  body_application_set_spec_template_spec_revision_history_limit: int = None,
  body_application_set_spec_template_spec_source_chart: str = None,
  body_application_set_spec_template_spec_source_directory_exclude: str = None,
  body_application_set_spec_template_spec_source_directory_include: str = None,
  body_application_set_spec_template_spec_source_directory_jsonnet_ext_vars: List[Dict[str, Any]] = None,
  body_application_set_spec_template_spec_source_directory_jsonnet_libs: List[str] = None,
  body_application_set_spec_template_spec_source_directory_jsonnet_tlas: List[Dict[str, Any]] = None,
  body_application_set_spec_template_spec_source_directory_recurse: bool = None,
  body_application_set_spec_template_spec_source_helm: Dict[str, Any] = None,
  body_application_set_spec_template_spec_source_kustomize: Dict[str, Any] = None,
  body_application_set_spec_template_spec_source_name: str = None,
  body_application_set_spec_template_spec_source_path: str = None,
  body_application_set_spec_template_spec_source_plugin_env: List[Dict[str, Any]] = None,
  body_application_set_spec_template_spec_source_plugin_name: str = None,
  body_application_set_spec_template_spec_source_plugin_parameters: List[Dict[str, Any]] = None,
  body_application_set_spec_template_spec_source_ref: str = None,
  body_application_set_spec_template_spec_source_repo_url: str = None,
  body_application_set_spec_template_spec_source_target_revision: str = None,
  body_application_set_spec_template_spec_source_hydrator_dry_source_path: str = None,
  body_application_set_spec_template_spec_source_hydrator_dry_source_repo_url: str = None,
  body_application_set_spec_template_spec_source_hydrator_dry_source_target_revision: str = None,
  body_application_set_spec_template_spec_source_hydrator_hydrate_to_target_branch: str = None,
  body_application_set_spec_template_spec_source_hydrator_sync_source_path: str = None,
  body_application_set_spec_template_spec_source_hydrator_sync_source_target_branch: str = None,
  body_application_set_spec_template_spec_sources: List[Dict[str, Any]] = None,
  body_application_set_spec_template_spec_sync_policy_automated_allow_empty: bool = None,
  body_application_set_spec_template_spec_sync_policy_automated_enabled: bool = None,
  body_application_set_spec_template_spec_sync_policy_automated_prune: bool = None,
  body_application_set_spec_template_spec_sync_policy_automated_self_heal: bool = None,
  body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_annotations: Dict[str, Any] = None,
  body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_labels: Dict[str, Any] = None,
  body_application_set_spec_template_spec_sync_policy_retry_backoff_duration: str = None,
  body_application_set_spec_template_spec_sync_policy_retry_backoff_factor: int = None,
  body_application_set_spec_template_spec_sync_policy_retry_backoff_max_duration: str = None,
  body_application_set_spec_template_spec_sync_policy_retry_limit: int = None,
  body_application_set_spec_template_spec_sync_policy_retry_refresh: bool = None,
  body_application_set_spec_template_spec_sync_policy_sync_options: List[str] = None,
  body_application_set_spec_template_patch: str = None,
  body_application_set_status_application_status: List[Dict[str, Any]] = None,
  body_application_set_status_conditions: List[Dict[str, Any]] = None,
  body_application_set_status_resources: List[Dict[str, Any]] = None,
  body_application_set_status_resources_count: int = None,
) -> Any:
  """
      Generate generates

      OpenAPI Description:


      Args:

          body_application_set_metadata (Dict[str, Any]): ObjectMeta is metadata that all persisted resources must have, which includes all objects
  users must create.

          body_application_set_spec_apply_nested_selectors (bool): ApplyNestedSelectors enables selectors defined within the generators of two level-nested matrix or merge generators
  Deprecated: This field is ignored, and the behavior is always enabled. The field will be removed in a future
  version of the ApplicationSet CRD.

          body_application_set_spec_generators (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_generators'

          body_application_set_spec_go_template (bool): OpenAPI parameter corresponding to 'body_application_set_spec_go_template'

          body_application_set_spec_go_template_options (List[str]): OpenAPI parameter corresponding to 'body_application_set_spec_go_template_options'

          body_application_set_spec_ignore_application_differences (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_ignore_application_differences'

          body_application_set_spec_preserved_fields_annotations (List[str]): OpenAPI parameter corresponding to 'body_application_set_spec_preserved_fields_annotations'

          body_application_set_spec_preserved_fields_labels (List[str]): OpenAPI parameter corresponding to 'body_application_set_spec_preserved_fields_labels'

          body_application_set_spec_strategy_deletion_order (str): OpenAPI parameter corresponding to 'body_application_set_spec_strategy_deletion_order'

          body_application_set_spec_strategy_rolling_sync_steps (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_strategy_rolling_sync_steps'

          body_application_set_spec_strategy_type (str): OpenAPI parameter corresponding to 'body_application_set_spec_strategy_type'

          body_application_set_spec_sync_policy_applications_sync (str): OpenAPI parameter corresponding to 'body_application_set_spec_sync_policy_applications_sync'

          body_application_set_spec_sync_policy_preserve_resources_on_deletion (bool): PreserveResourcesOnDeletion will preserve resources on deletion. If PreserveResourcesOnDeletion is set to true, these Applications will not be deleted.

          body_application_set_spec_template_metadata_annotations (Dict[str, Any]): OpenAPI parameter corresponding to 'body_application_set_spec_template_metadata_annotations'

          body_application_set_spec_template_metadata_finalizers (List[str]): OpenAPI parameter corresponding to 'body_application_set_spec_template_metadata_finalizers'

          body_application_set_spec_template_metadata_labels (Dict[str, Any]): OpenAPI parameter corresponding to 'body_application_set_spec_template_metadata_labels'

          body_application_set_spec_template_metadata_name (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_metadata_name'

          body_application_set_spec_template_metadata_namespace (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_metadata_namespace'

          body_application_set_spec_template_spec_destination_name (str): Name is an alternate way of specifying the target cluster by its symbolic name. This must be set if Server is not set.

          body_application_set_spec_template_spec_destination_namespace (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_destination_namespace'

          body_application_set_spec_template_spec_destination_server (str): Server specifies the URL of the target cluster's Kubernetes control plane API. This must be set if Name is not set.

          body_application_set_spec_template_spec_ignore_differences (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_ignore_differences'

          body_application_set_spec_template_spec_info (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_info'

          body_application_set_spec_template_spec_project (str): Project is a reference to the project this application belongs to.
  The empty string means that application belongs to the 'default' project.

          body_application_set_spec_template_spec_revision_history_limit (int): RevisionHistoryLimit limits the number of items kept in the application's revision history, which is used for informational purposes as well as for rollbacks to previous versions.
  This should only be changed in exceptional circumstances.
  Setting to zero will store no history. This will reduce storage used.
  Increasing will increase the space used to store the history, so we do not recommend increasing it.
  Default is 10.

          body_application_set_spec_template_spec_source_chart (str): Chart is a Helm chart name, and must be specified for applications sourced from a Helm repo.

          body_application_set_spec_template_spec_source_directory_exclude (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_directory_exclude'

          body_application_set_spec_template_spec_source_directory_include (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_directory_include'

          body_application_set_spec_template_spec_source_directory_jsonnet_ext_vars (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_directory_jsonnet_ext_vars'

          body_application_set_spec_template_spec_source_directory_jsonnet_libs (List[str]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_directory_jsonnet_libs'

          body_application_set_spec_template_spec_source_directory_jsonnet_tlas (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_directory_jsonnet_tlas'

          body_application_set_spec_template_spec_source_directory_recurse (bool): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_directory_recurse'

          body_application_set_spec_template_spec_source_helm (Dict[str, Any]): Request body as dictionary. Contains 15 nested properties. See OpenAPI schema for detailed structure.

          body_application_set_spec_template_spec_source_kustomize (Dict[str, Any]): Request body as dictionary. Contains 18 nested properties. See OpenAPI schema for detailed structure.

          body_application_set_spec_template_spec_source_name (str): Name is used to refer to a source and is displayed in the UI. It is used in multi-source Applications.

          body_application_set_spec_template_spec_source_path (str): Path is a directory path within the Git repository, and is only valid for applications sourced from Git.

          body_application_set_spec_template_spec_source_plugin_env (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_plugin_env'

          body_application_set_spec_template_spec_source_plugin_name (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_plugin_name'

          body_application_set_spec_template_spec_source_plugin_parameters (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_plugin_parameters'

          body_application_set_spec_template_spec_source_ref (str): Ref is reference to another source within sources field. This field will not be used if used with a `source` tag.

          body_application_set_spec_template_spec_source_repo_url (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_repo_url'

          body_application_set_spec_template_spec_source_target_revision (str): TargetRevision defines the revision of the source to sync the application to.
  In case of Git, this can be commit, tag, or branch. If omitted, will equal to HEAD.
  In case of Helm, this is a semver tag for the Chart's version.

          body_application_set_spec_template_spec_source_hydrator_dry_source_path (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_hydrator_dry_source_path'

          body_application_set_spec_template_spec_source_hydrator_dry_source_repo_url (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_hydrator_dry_source_repo_url'

          body_application_set_spec_template_spec_source_hydrator_dry_source_target_revision (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_hydrator_dry_source_target_revision'

          body_application_set_spec_template_spec_source_hydrator_hydrate_to_target_branch (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_source_hydrator_hydrate_to_target_branch'

          body_application_set_spec_template_spec_source_hydrator_sync_source_path (str): Path is a directory path within the git repository where hydrated manifests should be committed to and synced
  from. The Path should never point to the root of the repo. If hydrateTo is set, this is just the path from which
  hydrated manifests will be synced.

  +kubebuilder:validation:Required
  +kubebuilder:validation:MinLength=1
  +kubebuilder:validation:Pattern=`^.{2,}|[^./]$`

          body_application_set_spec_template_spec_source_hydrator_sync_source_target_branch (str): TargetBranch is the branch from which hydrated manifests will be synced.
  If HydrateTo is not set, this is also the branch to which hydrated manifests are committed.

          body_application_set_spec_template_spec_sources (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sources'

          body_application_set_spec_template_spec_sync_policy_automated_allow_empty (bool): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_automated_allow_empty'

          body_application_set_spec_template_spec_sync_policy_automated_enabled (bool): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_automated_enabled'

          body_application_set_spec_template_spec_sync_policy_automated_prune (bool): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_automated_prune'

          body_application_set_spec_template_spec_sync_policy_automated_self_heal (bool): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_automated_self_heal'

          body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_annotations (Dict[str, Any]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_annotations'

          body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_labels (Dict[str, Any]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_labels'

          body_application_set_spec_template_spec_sync_policy_retry_backoff_duration (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_retry_backoff_duration'

          body_application_set_spec_template_spec_sync_policy_retry_backoff_factor (int): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_retry_backoff_factor'

          body_application_set_spec_template_spec_sync_policy_retry_backoff_max_duration (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_retry_backoff_max_duration'

          body_application_set_spec_template_spec_sync_policy_retry_limit (int): Limit is the maximum number of attempts for retrying a failed sync. If set to 0, no retries will be performed.

          body_application_set_spec_template_spec_sync_policy_retry_refresh (bool): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_retry_refresh'

          body_application_set_spec_template_spec_sync_policy_sync_options (List[str]): OpenAPI parameter corresponding to 'body_application_set_spec_template_spec_sync_policy_sync_options'

          body_application_set_spec_template_patch (str): OpenAPI parameter corresponding to 'body_application_set_spec_template_patch'

          body_application_set_status_application_status (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_status_application_status'

          body_application_set_status_conditions (List[Dict[str, Any]]): OpenAPI parameter corresponding to 'body_application_set_status_conditions'

          body_application_set_status_resources (List[Dict[str, Any]]): Resources is a list of Applications resources managed by this application set.

          body_application_set_status_resources_count (int): ResourcesCount is the total number of resources managed by this application set. The count may be higher than actual number of items in the Resources field when
  the number of managed resources exceeds the limit imposed by the controller (to avoid making the status field too large).


      Returns:
          Any: The JSON response from the API call.

      Raises:
          Exception: If the API request fails or returns an error.
  """
  logger.debug("Making POST request to /api/v1/applicationsets/generate")

  params = {}
  data = {}

  flat_body = {}
  if body_application_set_metadata is not None:
    flat_body["application_set_metadata"] = body_application_set_metadata
  if body_application_set_spec_apply_nested_selectors is not None:
    flat_body["application_set_spec_apply_nested_selectors"] = body_application_set_spec_apply_nested_selectors
  if body_application_set_spec_generators is not None:
    flat_body["application_set_spec_generators"] = body_application_set_spec_generators
  if body_application_set_spec_go_template is not None:
    flat_body["application_set_spec_go_template"] = body_application_set_spec_go_template
  if body_application_set_spec_go_template_options is not None:
    flat_body["application_set_spec_go_template_options"] = body_application_set_spec_go_template_options
  if body_application_set_spec_ignore_application_differences is not None:
    flat_body["application_set_spec_ignore_application_differences"] = body_application_set_spec_ignore_application_differences
  if body_application_set_spec_preserved_fields_annotations is not None:
    flat_body["application_set_spec_preserved_fields_annotations"] = body_application_set_spec_preserved_fields_annotations
  if body_application_set_spec_preserved_fields_labels is not None:
    flat_body["application_set_spec_preserved_fields_labels"] = body_application_set_spec_preserved_fields_labels
  if body_application_set_spec_strategy_deletion_order is not None:
    flat_body["application_set_spec_strategy_deletion_order"] = body_application_set_spec_strategy_deletion_order
  if body_application_set_spec_strategy_rolling_sync_steps is not None:
    flat_body["application_set_spec_strategy_rolling_sync_steps"] = body_application_set_spec_strategy_rolling_sync_steps
  if body_application_set_spec_strategy_type is not None:
    flat_body["application_set_spec_strategy_type"] = body_application_set_spec_strategy_type
  if body_application_set_spec_sync_policy_applications_sync is not None:
    flat_body["application_set_spec_sync_policy_applications_sync"] = body_application_set_spec_sync_policy_applications_sync
  if body_application_set_spec_sync_policy_preserve_resources_on_deletion is not None:
    flat_body["application_set_spec_sync_policy_preserve_resources_on_deletion"] = (
      body_application_set_spec_sync_policy_preserve_resources_on_deletion
    )
  if body_application_set_spec_template_metadata_annotations is not None:
    flat_body["application_set_spec_template_metadata_annotations"] = body_application_set_spec_template_metadata_annotations
  if body_application_set_spec_template_metadata_finalizers is not None:
    flat_body["application_set_spec_template_metadata_finalizers"] = body_application_set_spec_template_metadata_finalizers
  if body_application_set_spec_template_metadata_labels is not None:
    flat_body["application_set_spec_template_metadata_labels"] = body_application_set_spec_template_metadata_labels
  if body_application_set_spec_template_metadata_name is not None:
    flat_body["application_set_spec_template_metadata_name"] = body_application_set_spec_template_metadata_name
  if body_application_set_spec_template_metadata_namespace is not None:
    flat_body["application_set_spec_template_metadata_namespace"] = body_application_set_spec_template_metadata_namespace
  if body_application_set_spec_template_spec_destination_name is not None:
    flat_body["application_set_spec_template_spec_destination_name"] = body_application_set_spec_template_spec_destination_name
  if body_application_set_spec_template_spec_destination_namespace is not None:
    flat_body["application_set_spec_template_spec_destination_namespace"] = body_application_set_spec_template_spec_destination_namespace
  if body_application_set_spec_template_spec_destination_server is not None:
    flat_body["application_set_spec_template_spec_destination_server"] = body_application_set_spec_template_spec_destination_server
  if body_application_set_spec_template_spec_ignore_differences is not None:
    flat_body["application_set_spec_template_spec_ignore_differences"] = body_application_set_spec_template_spec_ignore_differences
  if body_application_set_spec_template_spec_info is not None:
    flat_body["application_set_spec_template_spec_info"] = body_application_set_spec_template_spec_info
  if body_application_set_spec_template_spec_project is not None:
    flat_body["application_set_spec_template_spec_project"] = body_application_set_spec_template_spec_project
  if body_application_set_spec_template_spec_revision_history_limit is not None:
    flat_body["application_set_spec_template_spec_revision_history_limit"] = body_application_set_spec_template_spec_revision_history_limit
  if body_application_set_spec_template_spec_source_chart is not None:
    flat_body["application_set_spec_template_spec_source_chart"] = body_application_set_spec_template_spec_source_chart
  if body_application_set_spec_template_spec_source_directory_exclude is not None:
    flat_body["application_set_spec_template_spec_source_directory_exclude"] = (
      body_application_set_spec_template_spec_source_directory_exclude
    )
  if body_application_set_spec_template_spec_source_directory_include is not None:
    flat_body["application_set_spec_template_spec_source_directory_include"] = (
      body_application_set_spec_template_spec_source_directory_include
    )
  if body_application_set_spec_template_spec_source_directory_jsonnet_ext_vars is not None:
    flat_body["application_set_spec_template_spec_source_directory_jsonnet_ext_vars"] = (
      body_application_set_spec_template_spec_source_directory_jsonnet_ext_vars
    )
  if body_application_set_spec_template_spec_source_directory_jsonnet_libs is not None:
    flat_body["application_set_spec_template_spec_source_directory_jsonnet_libs"] = (
      body_application_set_spec_template_spec_source_directory_jsonnet_libs
    )
  if body_application_set_spec_template_spec_source_directory_jsonnet_tlas is not None:
    flat_body["application_set_spec_template_spec_source_directory_jsonnet_tlas"] = (
      body_application_set_spec_template_spec_source_directory_jsonnet_tlas
    )
  if body_application_set_spec_template_spec_source_directory_recurse is not None:
    flat_body["application_set_spec_template_spec_source_directory_recurse"] = (
      body_application_set_spec_template_spec_source_directory_recurse
    )
  if body_application_set_spec_template_spec_source_helm is not None:
    flat_body["application_set_spec_template_spec_source_helm"] = body_application_set_spec_template_spec_source_helm
  if body_application_set_spec_template_spec_source_kustomize is not None:
    flat_body["application_set_spec_template_spec_source_kustomize"] = body_application_set_spec_template_spec_source_kustomize
  if body_application_set_spec_template_spec_source_name is not None:
    flat_body["application_set_spec_template_spec_source_name"] = body_application_set_spec_template_spec_source_name
  if body_application_set_spec_template_spec_source_path is not None:
    flat_body["application_set_spec_template_spec_source_path"] = body_application_set_spec_template_spec_source_path
  if body_application_set_spec_template_spec_source_plugin_env is not None:
    flat_body["application_set_spec_template_spec_source_plugin_env"] = body_application_set_spec_template_spec_source_plugin_env
  if body_application_set_spec_template_spec_source_plugin_name is not None:
    flat_body["application_set_spec_template_spec_source_plugin_name"] = body_application_set_spec_template_spec_source_plugin_name
  if body_application_set_spec_template_spec_source_plugin_parameters is not None:
    flat_body["application_set_spec_template_spec_source_plugin_parameters"] = (
      body_application_set_spec_template_spec_source_plugin_parameters
    )
  if body_application_set_spec_template_spec_source_ref is not None:
    flat_body["application_set_spec_template_spec_source_ref"] = body_application_set_spec_template_spec_source_ref
  if body_application_set_spec_template_spec_source_repo_url is not None:
    flat_body["application_set_spec_template_spec_source_repo_url"] = body_application_set_spec_template_spec_source_repo_url
  if body_application_set_spec_template_spec_source_target_revision is not None:
    flat_body["application_set_spec_template_spec_source_target_revision"] = body_application_set_spec_template_spec_source_target_revision
  if body_application_set_spec_template_spec_source_hydrator_dry_source_path is not None:
    flat_body["application_set_spec_template_spec_source_hydrator_dry_source_path"] = (
      body_application_set_spec_template_spec_source_hydrator_dry_source_path
    )
  if body_application_set_spec_template_spec_source_hydrator_dry_source_repo_url is not None:
    flat_body["application_set_spec_template_spec_source_hydrator_dry_source_repo_url"] = (
      body_application_set_spec_template_spec_source_hydrator_dry_source_repo_url
    )
  if body_application_set_spec_template_spec_source_hydrator_dry_source_target_revision is not None:
    flat_body["application_set_spec_template_spec_source_hydrator_dry_source_target_revision"] = (
      body_application_set_spec_template_spec_source_hydrator_dry_source_target_revision
    )
  if body_application_set_spec_template_spec_source_hydrator_hydrate_to_target_branch is not None:
    flat_body["application_set_spec_template_spec_source_hydrator_hydrate_to_target_branch"] = (
      body_application_set_spec_template_spec_source_hydrator_hydrate_to_target_branch
    )
  if body_application_set_spec_template_spec_source_hydrator_sync_source_path is not None:
    flat_body["application_set_spec_template_spec_source_hydrator_sync_source_path"] = (
      body_application_set_spec_template_spec_source_hydrator_sync_source_path
    )
  if body_application_set_spec_template_spec_source_hydrator_sync_source_target_branch is not None:
    flat_body["application_set_spec_template_spec_source_hydrator_sync_source_target_branch"] = (
      body_application_set_spec_template_spec_source_hydrator_sync_source_target_branch
    )
  if body_application_set_spec_template_spec_sources is not None:
    flat_body["application_set_spec_template_spec_sources"] = body_application_set_spec_template_spec_sources
  if body_application_set_spec_template_spec_sync_policy_automated_allow_empty is not None:
    flat_body["application_set_spec_template_spec_sync_policy_automated_allow_empty"] = (
      body_application_set_spec_template_spec_sync_policy_automated_allow_empty
    )
  if body_application_set_spec_template_spec_sync_policy_automated_enabled is not None:
    flat_body["application_set_spec_template_spec_sync_policy_automated_enabled"] = (
      body_application_set_spec_template_spec_sync_policy_automated_enabled
    )
  if body_application_set_spec_template_spec_sync_policy_automated_prune is not None:
    flat_body["application_set_spec_template_spec_sync_policy_automated_prune"] = (
      body_application_set_spec_template_spec_sync_policy_automated_prune
    )
  if body_application_set_spec_template_spec_sync_policy_automated_self_heal is not None:
    flat_body["application_set_spec_template_spec_sync_policy_automated_self_heal"] = (
      body_application_set_spec_template_spec_sync_policy_automated_self_heal
    )
  if body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_annotations is not None:
    flat_body["application_set_spec_template_spec_sync_policy_managed_namespace_metadata_annotations"] = (
      body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_annotations
    )
  if body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_labels is not None:
    flat_body["application_set_spec_template_spec_sync_policy_managed_namespace_metadata_labels"] = (
      body_application_set_spec_template_spec_sync_policy_managed_namespace_metadata_labels
    )
  if body_application_set_spec_template_spec_sync_policy_retry_backoff_duration is not None:
    flat_body["application_set_spec_template_spec_sync_policy_retry_backoff_duration"] = (
      body_application_set_spec_template_spec_sync_policy_retry_backoff_duration
    )
  if body_application_set_spec_template_spec_sync_policy_retry_backoff_factor is not None:
    flat_body["application_set_spec_template_spec_sync_policy_retry_backoff_factor"] = (
      body_application_set_spec_template_spec_sync_policy_retry_backoff_factor
    )
  if body_application_set_spec_template_spec_sync_policy_retry_backoff_max_duration is not None:
    flat_body["application_set_spec_template_spec_sync_policy_retry_backoff_max_duration"] = (
      body_application_set_spec_template_spec_sync_policy_retry_backoff_max_duration
    )
  if body_application_set_spec_template_spec_sync_policy_retry_limit is not None:
    flat_body["application_set_spec_template_spec_sync_policy_retry_limit"] = (
      body_application_set_spec_template_spec_sync_policy_retry_limit
    )
  if body_application_set_spec_template_spec_sync_policy_retry_refresh is not None:
    flat_body["application_set_spec_template_spec_sync_policy_retry_refresh"] = (
      body_application_set_spec_template_spec_sync_policy_retry_refresh
    )
  if body_application_set_spec_template_spec_sync_policy_sync_options is not None:
    flat_body["application_set_spec_template_spec_sync_policy_sync_options"] = (
      body_application_set_spec_template_spec_sync_policy_sync_options
    )
  if body_application_set_spec_template_patch is not None:
    flat_body["application_set_spec_template_patch"] = body_application_set_spec_template_patch
  if body_application_set_status_application_status is not None:
    flat_body["application_set_status_application_status"] = body_application_set_status_application_status
  if body_application_set_status_conditions is not None:
    flat_body["application_set_status_conditions"] = body_application_set_status_conditions
  if body_application_set_status_resources is not None:
    flat_body["application_set_status_resources"] = body_application_set_status_resources
  if body_application_set_status_resources_count is not None:
    flat_body["application_set_status_resources_count"] = body_application_set_status_resources_count
  data = assemble_nested_body(flat_body)

  success, response = await make_api_request("/api/v1/applicationsets/generate", method="POST", params=params, data=data)

  if not success:
    logger.error(f"Request failed: {response.get('error')}")
    return {"error": response.get("error", "Request failed")}
  return response
