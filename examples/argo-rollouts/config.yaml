title: argo-rollouts
description: Argo Rollouts MCP Server
author: Sri Aradhyula
email: sraradhy@cisco.com
version: 0.1.0
license: Apache-2.0
python_version: 3.13.2

# HTTP headers for API requests
headers:
  Authorization: Bearer {token}
  Accept: application/json
  Content-Type: application/json

# Python dependencies
poetry_dependencies: |
  python = ">=3.13,<4.0"
  httpx = ">=0.24.0"
  python-dotenv = ">=1.0.0"
  pydantic = ">=2.0.0"
  mcp = ">=1.9.0"

# File headers for generated code
file_headers:
  copyright: Copyright 2025 CNOE
  license: "SPDX-License-Identifier: Apache-2.0"
  message: "Generated by CNOE OpenAPI MCP Codegen tool"

# Overlay enhancement configuration
overlay_enhancements:
  # Enable agent-friendly description generation
  enabled: true

  # Use LLM for enhanced descriptions (requires OPENAI_API_KEY or ANTHROPIC_API_KEY)
  # LLM provides context-aware, natural language enhancements vs rule-based generation
  use_llm: true

  # LLM provider (openai or anthropic) - uses environment variables for API keys
  # If not specified, will use cnoe_agent_utils default
  llm_provider: null

  # Maximum description length (OpenAI recommends 250-300 chars for function calling)
  max_description_length: 300

  # Enhance CRUD operations with agentic context (LLM will understand CRUD patterns)
  enhance_crud_operations: true

  # Add use cases to operation descriptions (when/why to use)
  add_use_cases: true

  # Enhance parameter descriptions with LLM understanding
  enhance_parameters: true

  # Add parameter guidance (required vs optional, filtering, pagination)
  add_parameter_guidance: true

  # Focus on agentic use cases (helps LLMs understand when to call each operation)
  agentic_focus: true

# AgentGateway configuration
agentgateway:
  # Port to run agentgateway on
  port: 3000

  # Backend API configuration
  backend:
    host: localhost
    port: 8080
    path: /

  # CORS configuration
  cors:
    enabled: true
    allow_origins:
      - "*"
    allow_methods:
      - GET
      - POST
      - OPTIONS
    allow_headers:
      - "*"
    expose_headers:
      - mcp-protocol-version
      - Content-Type
      - cache-control
    max_age: 3600

# Agent Skills Configuration
# Define skills based on available MCP tools
skills:
  - id: "rollout_management"
    name: "Rollout Management"
    description: "Core rollout operations for creating, managing, and monitoring Argo Rollouts"
    tags: ["rollouts", "deployments", "lifecycle", "management"]
    examples:
      - "List all rollouts in the default namespace"
      - "Get the status and details of rollout 'web-app'"
      - "Create a new rollout with canary deployment strategy"
      - "Delete rollout 'old-service' from namespace 'production'"
      - "Promote rollout 'api-service' to the next step"
      - "Abort rollout 'failed-deployment' and revert to stable"
      - "Pause rollout 'frontend-app' during deployment"
      - "Resume paused rollout 'backend-service'"
      - "Restart rollout 'data-api' to trigger new deployment"
      - "Scale rollout 'worker-service' to 5 replicas"

  - id: "analysis_templates"
    name: "Analysis Templates"
    description: "Manage analysis templates for automated rollout validation and testing"
    tags: ["analysis", "templates", "validation", "testing"]
    examples:
      - "List all analysis templates in the 'monitoring' namespace"
      - "Create a new analysis template for success rate validation"
      - "Get details of analysis template 'error-rate-check'"
      - "Update analysis template 'latency-test' with new metrics"
      - "Delete unused analysis template 'legacy-validation'"
      - "Configure analysis template for Prometheus metrics"
      - "Set up analysis template for custom application metrics"

  - id: "analysis_runs"
    name: "Analysis Runs"
    description: "Monitor and manage analysis runs for rollout validation"
    tags: ["analysis", "runs", "monitoring", "validation"]
    examples:
      - "List all analysis runs for rollout 'web-frontend'"
      - "Get details of analysis run 'performance-test-123'"
      - "Monitor analysis run status for deployment validation"
      - "Get analysis run results and metrics"
      - "List failed analysis runs in the last 24 hours"
      - "Get analysis run logs for troubleshooting"

  - id: "experiments"
    name: "Experiments"
    description: "Manage A/B testing and experimentation using Argo Rollouts"
    tags: ["experiments", "a-b-testing", "traffic-splitting", "testing"]
    examples:
      - "List all experiments in the 'experiments' namespace"
      - "Create a new A/B test experiment for feature flag"
      - "Get experiment details and traffic split configuration"
      - "Update experiment 'checkout-flow-test' with new weights"
      - "Delete completed experiment 'button-color-test'"
      - "Monitor experiment metrics and success criteria"
      - "Get experiment results and statistical analysis"

  - id: "cluster_analysis_templates"
    name: "Cluster Analysis Templates"
    description: "Manage cluster-wide analysis templates available across all namespaces"
    tags: ["cluster-templates", "global", "analysis", "shared-resources"]
    examples:
      - "List all cluster analysis templates"
      - "Create a cluster-wide template for common validation patterns"
      - "Get details of cluster template 'global-health-check'"
      - "Update cluster template 'security-scan' with new rules"
      - "Delete unused cluster template 'deprecated-validation'"
      - "Configure cluster template for organization-wide metrics"

  - id: "monitoring_observability"
    name: "Monitoring & Observability"
    description: "Access logs, metrics, and monitoring data for rollouts and deployments"
    tags: ["logs", "metrics", "monitoring", "debugging", "observability"]
    examples:
      - "Get rollout deployment history and events"
      - "View rollout replica set status and progression"
      - "Monitor rollout canary analysis results"
      - "Get rollout logs and pod information"
      - "Track rollout promotion steps and timing"
      - "View rollout traffic routing and weights"
      - "Monitor rollout health checks and readiness"
      - "Get rollout error events and troubleshooting info"

  - id: "system_information"
    name: "System Information"
    description: "Access Argo Rollouts controller information and system status"
    tags: ["system", "info", "version", "status", "health"]
    examples:
      - "Get Argo Rollouts controller version and build information"
      - "Check Argo Rollouts system health and component status"
      - "Get controller configuration and feature flags"
      - "View Argo Rollouts resource usage and performance metrics"
      - "Get API server capabilities and supported features"
      - "Check controller permissions and RBAC status"

# Agent System Prompt Configuration
system_prompt: |
  You are an expert Argo Rollouts assistant that helps users manage progressive delivery and advanced deployment strategies in Kubernetes.

  # CORE CAPABILITIES
  You can help with:
  - üöÄ **Rollout Management**: Create, deploy, and manage progressive delivery rollouts
  - üìä **Analysis & Validation**: Set up automated analysis templates and monitoring
  - üß™ **Experimentation**: Configure A/B tests and traffic splitting experiments
  - üìà **Progressive Delivery**: Manage canary, blue-green, and custom deployment strategies
  - üîç **Monitoring**: Track rollout progress, metrics, and health status
  - üõ†Ô∏è **Troubleshooting**: Debug failed rollouts, analysis issues, and deployment problems

  # INTERACTION GUIDELINES
  üéØ **Be Specific**: When asking for rollout operations, provide:
  - Rollout names and namespaces
  - Deployment strategy (canary, blue-green, etc.)
  - Traffic routing requirements
  - Analysis and validation criteria

  üí° **Example Requests**:
  - "List all rollouts in namespace 'production'"
  - "Create a canary rollout for application 'web-frontend' with 20% traffic split"
  - "Promote rollout 'api-service' to the next canary step"
  - "Set up analysis template for success rate validation using Prometheus"
  - "Abort rollout 'failed-deployment' and revert to stable version"
  - "Create an A/B test experiment for feature 'new-checkout-flow'"

  # ROLLOUT CREATION TIPS
  When creating rollouts, I'll guide you through:
  - Deployment strategy selection (canary, blue-green, custom)
  - Traffic routing configuration (Istio, NGINX, ALB, etc.)
  - Analysis templates and success criteria
  - Rollback and abort policies
  - Resource specifications and scaling

  # COMMON PATTERNS
  - For **new rollouts**: I'll ask for strategy, traffic routing, and validation requirements
  - For **monitoring**: I'll help track progress, metrics, and analysis results
  - For **troubleshooting**: I'll examine rollout status, events, and analysis failures
  - For **experiments**: I'll help configure A/B tests and traffic splitting

  # PROGRESSIVE DELIVERY BEST PRACTICES
  I'll help you implement progressive delivery patterns:
  - Gradual traffic shifting with automated validation
  - Comprehensive analysis and success criteria
  - Automated rollback on failure detection
  - Integration with monitoring and observability tools
  - Safe deployment practices with minimal blast radius

  Ask me anything about Argo Rollouts - I'm here to help you implement safe, progressive deployments!
