# Copyright 2025 CNOE
# SPDX-License-Identifier: Apache-2.0
# Generated by CNOE OpenAPI MCP Codegen tool

#!/usr/bin/env python3
"""
 MCP Server

This server provides a Model Context Protocol (MCP) interface to the ,
allowing large language models and AI assistants to interact with the service.
"""

import logging
import os
from dotenv import load_dotenv
from fastmcp import FastMCP


from mcp_argo_workflows.tools import api_v1_archived_workflows

from mcp_argo_workflows.tools import api_v1_archived_workflows_label_keys

from mcp_argo_workflows.tools import api_v1_archived_workflows_label_values

from mcp_argo_workflows.tools import api_v1_archived_workflows_uid

from mcp_argo_workflows.tools import api_v1_archived_workflows_uid_resubmit

from mcp_argo_workflows.tools import api_v1_archived_workflows_uid_retry

from mcp_argo_workflows.tools import api_v1_cluster_workflow_templates

from mcp_argo_workflows.tools import api_v1_cluster_workflow_templates_lint

from mcp_argo_workflows.tools import api_v1_cluster_workflow_templates_name

from mcp_argo_workflows.tools import api_v1_cron_workflows_namespace

from mcp_argo_workflows.tools import api_v1_cron_workflows_namespace_lint

from mcp_argo_workflows.tools import api_v1_cron_workflows_namespace_name

from mcp_argo_workflows.tools import api_v1_cron_workflows_namespace_name_resume

from mcp_argo_workflows.tools import api_v1_cron_workflows_namespace_name_suspend

from mcp_argo_workflows.tools import api_v1_event_sources_namespace

from mcp_argo_workflows.tools import api_v1_event_sources_namespace_name

from mcp_argo_workflows.tools import api_v1_events_namespace_discriminator

from mcp_argo_workflows.tools import api_v1_info

from mcp_argo_workflows.tools import api_v1_sensors_namespace

from mcp_argo_workflows.tools import api_v1_sensors_namespace_name

from mcp_argo_workflows.tools import api_v1_stream_event_sources_namespace

from mcp_argo_workflows.tools import api_v1_stream_event_sources_namespace_logs

from mcp_argo_workflows.tools import api_v1_stream_events_namespace

from mcp_argo_workflows.tools import api_v1_stream_sensors_namespace

from mcp_argo_workflows.tools import api_v1_stream_sensors_namespace_logs

from mcp_argo_workflows.tools import api_v1_tracking_event

from mcp_argo_workflows.tools import api_v1_userinfo

from mcp_argo_workflows.tools import api_v1_version

from mcp_argo_workflows.tools import api_v1_workflow_event_bindings_namespace

from mcp_argo_workflows.tools import api_v1_workflow_events_namespace

from mcp_argo_workflows.tools import api_v1_workflow_templates_namespace

from mcp_argo_workflows.tools import api_v1_workflow_templates_namespace_lint

from mcp_argo_workflows.tools import api_v1_workflow_templates_namespace_name

from mcp_argo_workflows.tools import api_v1_workflows_namespace

from mcp_argo_workflows.tools import api_v1_workflows_namespace_lint

from mcp_argo_workflows.tools import api_v1_workflows_namespace_submit

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_log

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_resubmit

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_resume

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_retry

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_set

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_stop

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_suspend

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_terminate

from mcp_argo_workflows.tools import api_v1_workflows_namespace_name_podname_log

from mcp_argo_workflows.tools import artifact_files_namespace_iddiscriminator_id_nodeid_artifactdiscriminator_artifactname

from mcp_argo_workflows.tools import artifacts_by_uid_uid_nodeid_artifactname

from mcp_argo_workflows.tools import artifacts_namespace_name_nodeid_artifactname

from mcp_argo_workflows.tools import input_artifacts_by_uid_uid_nodeid_artifactname

from mcp_argo_workflows.tools import input_artifacts_namespace_name_nodeid_artifactname


def main():
    # Load environment variables
    load_dotenv()

    # Configure logging
    logging.basicConfig(level=logging.INFO)

    # Get MCP configuration from environment variables
    MCP_MODE = os.getenv("MCP_MODE", "stdio").lower()

    # Get host and port for server
    MCP_HOST = os.getenv("MCP_HOST", "localhost")
    MCP_PORT = int(os.getenv("MCP_PORT", "8000"))

    logging.info(f"Starting MCP server in {MCP_MODE} mode on {MCP_HOST}:{MCP_PORT}")

    # Get agent name from environment variables
    SERVER_NAME = os.getenv("SERVER_NAME") or os.getenv("AGENT_NAME") or "ARGO_WORKFLOWS"
    logging.info(f"MCP Server name: {SERVER_NAME}")

    # Create server instance
    if MCP_MODE.lower() in ["sse", "http"]:
        mcp = FastMCP(f"{SERVER_NAME} MCP Server", host=MCP_HOST, port=MCP_PORT)
    else:
        mcp = FastMCP(f"{SERVER_NAME} MCP Server")

    # Register api_v1_archived_workflows tools

    mcp.tool()(api_v1_archived_workflows.archived_workflow_service_list_archived_workflows)

    # Register api_v1_archived_workflows_label_keys tools

    mcp.tool()(api_v1_archived_workflows_label_keys.arch_wf_svc_list_arch_wf_label_keys)

    # Register api_v1_archived_workflows_label_values tools

    mcp.tool()(api_v1_archived_workflows_label_values.arch_wf_svc_list_arch_wf_label_values)

    # Register api_v1_archived_workflows_uid tools

    mcp.tool()(api_v1_archived_workflows_uid.archived_workflow_service_get_archived_workflow)

    mcp.tool()(api_v1_archived_workflows_uid.archived_workflow_service_delete_archived_workflow)

    # Register api_v1_archived_workflows_uid_resubmit tools

    mcp.tool()(api_v1_archived_workflows_uid_resubmit.arch_wf_svc_resubmit_arch_wf)

    # Register api_v1_archived_workflows_uid_retry tools

    mcp.tool()(api_v1_archived_workflows_uid_retry.archived_workflow_service_retry_archived_workflow)

    # Register api_v1_cluster_workflow_templates tools

    mcp.tool()(api_v1_cluster_workflow_templates.cwt_svc_list_cwts)

    mcp.tool()(api_v1_cluster_workflow_templates.cwt_svc_create_cwt)

    # Register api_v1_cluster_workflow_templates_lint tools

    mcp.tool()(api_v1_cluster_workflow_templates_lint.cwt_svc_lint_cwt)

    # Register api_v1_cluster_workflow_templates_name tools

    mcp.tool()(api_v1_cluster_workflow_templates_name.cwt_svc_get_cwt)

    mcp.tool()(api_v1_cluster_workflow_templates_name.cwt_svc_update_cwt)

    mcp.tool()(api_v1_cluster_workflow_templates_name.cwt_svc_delete_cwt)

    # Register api_v1_cron_workflows_namespace tools

    mcp.tool()(api_v1_cron_workflows_namespace.cron_workflow_service_list_cron_workflows)

    mcp.tool()(api_v1_cron_workflows_namespace.cron_workflow_service_create_cron_workflow)

    # Register api_v1_cron_workflows_namespace_lint tools

    mcp.tool()(api_v1_cron_workflows_namespace_lint.cron_workflow_service_lint_cron_workflow)

    # Register api_v1_cron_workflows_namespace_name tools

    mcp.tool()(api_v1_cron_workflows_namespace_name.cron_workflow_service_get_cron_workflow)

    mcp.tool()(api_v1_cron_workflows_namespace_name.cron_workflow_service_update_cron_workflow)

    mcp.tool()(api_v1_cron_workflows_namespace_name.cron_workflow_service_delete_cron_workflow)

    # Register api_v1_cron_workflows_namespace_name_resume tools

    mcp.tool()(api_v1_cron_workflows_namespace_name_resume.cron_workflow_service_resume_cron_workflow)

    # Register api_v1_cron_workflows_namespace_name_suspend tools

    mcp.tool()(api_v1_cron_workflows_namespace_name_suspend.cron_workflow_service_suspend_cron_workflow)

    # Register api_v1_event_sources_namespace tools

    mcp.tool()(api_v1_event_sources_namespace.event_source_service_list_event_sources)

    mcp.tool()(api_v1_event_sources_namespace.event_source_service_create_event_source)

    # Register api_v1_event_sources_namespace_name tools

    mcp.tool()(api_v1_event_sources_namespace_name.event_source_service_get_event_source)

    mcp.tool()(api_v1_event_sources_namespace_name.event_source_service_update_event_source)

    mcp.tool()(api_v1_event_sources_namespace_name.event_source_service_delete_event_source)

    # Register api_v1_events_namespace_discriminator tools

    mcp.tool()(api_v1_events_namespace_discriminator.event_service_receive_event)

    # Register api_v1_info tools

    mcp.tool()(api_v1_info.info_service_get_info)

    # Register api_v1_sensors_namespace tools

    mcp.tool()(api_v1_sensors_namespace.sensor_service_list_sensors)

    mcp.tool()(api_v1_sensors_namespace.sensor_service_create_sensor)

    # Register api_v1_sensors_namespace_name tools

    mcp.tool()(api_v1_sensors_namespace_name.sensor_service_get_sensor)

    mcp.tool()(api_v1_sensors_namespace_name.sensor_service_update_sensor)

    mcp.tool()(api_v1_sensors_namespace_name.sensor_service_delete_sensor)

    # Register api_v1_stream_event_sources_namespace tools

    mcp.tool()(api_v1_stream_event_sources_namespace.event_source_service_watch_event_sources)

    # Register api_v1_stream_event_sources_namespace_logs tools

    mcp.tool()(api_v1_stream_event_sources_namespace_logs.event_source_service_event_sources_logs)

    # Register api_v1_stream_events_namespace tools

    mcp.tool()(api_v1_stream_events_namespace.workflow_service_watch_events)

    # Register api_v1_stream_sensors_namespace tools

    mcp.tool()(api_v1_stream_sensors_namespace.sensor_service_watch_sensors)

    # Register api_v1_stream_sensors_namespace_logs tools

    mcp.tool()(api_v1_stream_sensors_namespace_logs.sensor_service_sensors_logs)

    # Register api_v1_tracking_event tools

    mcp.tool()(api_v1_tracking_event.info_service_collect_event)

    # Register api_v1_userinfo tools

    mcp.tool()(api_v1_userinfo.info_service_get_user_info)

    # Register api_v1_version tools

    mcp.tool()(api_v1_version.info_service_get_version)

    # Register api_v1_workflow_event_bindings_namespace tools

    mcp.tool()(api_v1_workflow_event_bindings_namespace.event_service_list_workflow_event_bindings)

    # Register api_v1_workflow_events_namespace tools

    mcp.tool()(api_v1_workflow_events_namespace.workflow_service_watch_workflows)

    # Register api_v1_workflow_templates_namespace tools

    mcp.tool()(api_v1_workflow_templates_namespace.workflow_template_service_list_workflow_templates)

    mcp.tool()(api_v1_workflow_templates_namespace.workflow_template_service_create_workflow_template)

    # Register api_v1_workflow_templates_namespace_lint tools

    mcp.tool()(api_v1_workflow_templates_namespace_lint.workflow_template_service_lint_workflow_template)

    # Register api_v1_workflow_templates_namespace_name tools

    mcp.tool()(api_v1_workflow_templates_namespace_name.workflow_template_service_get_workflow_template)

    mcp.tool()(api_v1_workflow_templates_namespace_name.workflow_template_service_update_workflow_template)

    mcp.tool()(api_v1_workflow_templates_namespace_name.workflow_template_service_delete_workflow_template)

    # Register api_v1_workflows_namespace tools

    mcp.tool()(api_v1_workflows_namespace.workflow_service_list_workflows)

    mcp.tool()(api_v1_workflows_namespace.workflow_service_create_workflow)

    # Register api_v1_workflows_namespace_lint tools

    mcp.tool()(api_v1_workflows_namespace_lint.workflow_service_lint_workflow)

    # Register api_v1_workflows_namespace_submit tools

    mcp.tool()(api_v1_workflows_namespace_submit.workflow_service_submit_workflow)

    # Register api_v1_workflows_namespace_name tools

    mcp.tool()(api_v1_workflows_namespace_name.workflow_service_get_workflow)

    mcp.tool()(api_v1_workflows_namespace_name.workflow_service_delete_workflow)

    # Register api_v1_workflows_namespace_name_log tools

    mcp.tool()(api_v1_workflows_namespace_name_log.workflow_service_workflow_logs)

    # Register api_v1_workflows_namespace_name_resubmit tools

    mcp.tool()(api_v1_workflows_namespace_name_resubmit.workflow_service_resubmit_workflow)

    # Register api_v1_workflows_namespace_name_resume tools

    mcp.tool()(api_v1_workflows_namespace_name_resume.workflow_service_resume_workflow)

    # Register api_v1_workflows_namespace_name_retry tools

    mcp.tool()(api_v1_workflows_namespace_name_retry.workflow_service_retry_workflow)

    # Register api_v1_workflows_namespace_name_set tools

    mcp.tool()(api_v1_workflows_namespace_name_set.workflow_service_set_workflow)

    # Register api_v1_workflows_namespace_name_stop tools

    mcp.tool()(api_v1_workflows_namespace_name_stop.workflow_service_stop_workflow)

    # Register api_v1_workflows_namespace_name_suspend tools

    mcp.tool()(api_v1_workflows_namespace_name_suspend.workflow_service_suspend_workflow)

    # Register api_v1_workflows_namespace_name_terminate tools

    mcp.tool()(api_v1_workflows_namespace_name_terminate.workflow_service_terminate_workflow)

    # Register api_v1_workflows_namespace_name_podname_log tools

    mcp.tool()(api_v1_workflows_namespace_name_podname_log.workflow_service_pod_logs)

    # Register artifact_files_namespace_iddiscriminator_id_nodeid_artifactdiscriminator_artifactname tools

    mcp.tool()(artifact_files_namespace_iddiscriminator_id_nodeid_artifactdiscriminator_artifactname.artifact_service_get_artifact_file)

    # Register artifacts_by_uid_uid_nodeid_artifactname tools

    mcp.tool()(artifacts_by_uid_uid_nodeid_artifactname.artifact_service_get_output_artifact_by_uid)

    # Register artifacts_namespace_name_nodeid_artifactname tools

    mcp.tool()(artifacts_namespace_name_nodeid_artifactname.artifact_service_get_output_artifact)

    # Register input_artifacts_by_uid_uid_nodeid_artifactname tools

    mcp.tool()(input_artifacts_by_uid_uid_nodeid_artifactname.artifact_service_get_input_artifact_by_uid)

    # Register input_artifacts_namespace_name_nodeid_artifactname tools

    mcp.tool()(input_artifacts_namespace_name_nodeid_artifactname.artifact_service_get_input_artifact)

    # Run the MCP server
    mcp.run(transport=MCP_MODE.lower())


if __name__ == "__main__":
    main()
